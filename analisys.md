# Отчёт о тестировании: Синхронизация тарифного расчёта Uber

## 1. Введение
**Проект:** Uber Cross-Client Pricing Consistency  

**Цель отчёта:**  
Зафиксировать результаты проверки соответствия предварительной стоимости поездки между мобильным приложением Uber и веб-клиентом при одинаковых условиях (аккаунт, маршрут, категория, валюта, способ оплаты), выявить дефекты, оценить стабильность продукта и дать рекомендации по дальнейшим действиям.

---

## 2. Объём тестирования (Scope)
**Протестировано:**  
- Предварительная стоимость поездки (`Price Estimate`) на мобильном и веб-клиентах.  
- Кросс-клиентная проверка тарифной логики при фиксированном аккаунте, маршруте и категории.  
- Повторные измерения и проверка стабильности результата.  
- Изменение порядка выполнения шагов (сначала веб → потом мобильный клиент).  

**Не протестировано:**  
- API мобильного приложения (из-за SSL Pinning).  
- Динамические surge-тарифы в условиях высокой нагрузки.  
- Тестирование на других устройствах и версиях ОС/браузеров, кроме указанных.  
- Фактическая поездка (поездка с водителем).  
- Usability, производительность и безопасность.  

---

## 3. Методы и подходы
- **Функциональное тестирование:** проверка корректности расчёта тарифов на всех клиентах.  
- **Регрессионное тестирование:** проверка, что изменения в приложении/сервисе не нарушают синхронность тарифов.  
- **Интеграционное тестирование:** проверка синхронизации данных между мобильным и веб-клиентом.  
- **Системное тестирование:** проверка всей системы при фиксированных условиях маршрута и аккаунта.  
- **Приёмочное тестирование:** оценка соответствия бизнес-требованию «одинаковая цена для всех клиентов».  
- **Exploratory-тестирование:** исследование нестандартных сценариев: сброс тарифа, повторные расчёты, изменение порядка шагов.  

**Выполнение:**  
- Ручное тестирование по подготовленным тест-кейсам (`testcase.md`).  
- Результаты фиксируются в баг-репортах (`bugreport.md`) и сопровождаются скриншотами (`screenshots/`) и логами анализа (`analysis.md`).  
- Автотесты не использовались.  

---

## 4. Результаты тестирования

| Показатель | Значение |
|------------|----------|
| Запущено тест-кейсов | 1 |
| Пройдено | 0 |
| Провалено | 1 |
| Заблокировано | 0 |

**Комментарии:**  
- Расхождение цен между мобильным и веб-клиентом зафиксировано в 100% повторных измерений.  
- Изменение порядка выполнения теста не влияло на результат.  
- Попытка сброса тарифа (смена категории → возврат исходной) не устранила расхождение.  
- Иногда после перерасчёта в мобильном приложении цена пропадала.  

---

## 5. Обнаруженные дефекты

| ID | Название | Серьёзность | Статус | Описание |
|----|----------|------------|--------|----------|
| 1 | Несовпадение предварительной стоимости поездки между мобильным и веб-клиентом | Medium / High | Open | Mobile: 214,94 €, Web: 204,93 €, Разница: 9,99 €, стабильное расхождение при повторных измерениях. |

**Возможные причины дефекта:**  
- Разные тарифные источники (мобильное приложение и веб-клиент обращаются к разным backend-узлам).  
- Агрессивное кэширование тарифов на мобильном клиенте.  
- A/B-тестирование тарифной логики Uber.  
- Fallback на старый тариф при недоступности актуального surge-коэффициента.  
- Несинхронное обновление региональных коэффициентов.  
- Разная логика округления (маловероятно для такой разницы).  

---

## 6. Качество продукта
- Тарифная логика на разных клиентах нестабильна: обнаружено устойчивое расхождение цены.  
- Продукт **не готов** к гарантированному кросс-клиентному использованию в финансовом плане.  
- Рекомендации:  
  1. Проверить серверную синхронизацию тарифов.  
  2. Анализировать кэширование тарифов на мобильных клиентах.  
  3. Проверить влияние возможного A/B-тестирования на расчёт стоимости.  
  4. После исправлений провести регрессионное кросс-клиентное тестирование.  

---

## 7. Риски и проблемы
- Невозможность проверки API мобильного приложения из-за SSL Pinning.  
- Возможное влияние скрытых A/B-тестов Uber на расхождение цен.  
- Нестабильное интернет-соединение может исказить отображаемую стоимость.  
- Расхождение тарифов влияет на доверие пользователей и корректность биллинга.  

---

## 8. Выводы и рекомендации
- Зафиксировано устойчивое расхождение стоимости между мобильным и веб-клиентом (разница 9,99 €).  
- Проблема повторяемая, не зависит от порядка выполнения теста.  
- Дефект классифицируется как **cross-client pricing inconsistency** и относится к категории ошибок, влияющих на бизнес-логику и финансовые расчёты.  
- Дальнейшие шаги:  
  1. Проверка серверной логики расчёта тарифов.  
  2. Проверка кэширования тарифов на мобильном клиенте.  
  3. Исследование влияния A/B-тестирования.  
  4. Регрессионное тестирование после исправлений.  

---

## 9. Приложения
- **Тест-кейс:** `testcase.md`  
- **Баг-репорт:** `bugreport.md`    
- **Скриншоты:** `screenshots/`  

